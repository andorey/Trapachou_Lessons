<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>notebook</title>
	<style>
		#wrapper {
			width: 500px;
			margin: 0 auto;
			position: relative;
		}
		
		#menu {
			width: 150px;
			position: absolute;
			right: 105%;
		}
		#notes {
			padding: 0;
			margin: 0;
		}
		#notes li {
			padding: 5px;
			text-align: center;
			margin-bottom: 10px;
			border: 1px dashed gray;
			list-style-type: none;
			cursor: pointer;
		}
		#notes li:hover, #notes li.active {
			background: #f1f1f1;
		}
		#create button {
			width: 100%;
			padding: 5px;
		}
		
		#text textarea {
			width: 100%;
			height: 400px;
			box-sizing: border-box;
			padding: 10px;
			margin-bottom: 10px;
		}
		#text button {
			width: 100%;
			height: 30px;
		}
	</style>
</head>
<body>
<div id="wrapper">
	<div id="menu">
		<ul id="notes"></ul>
		<div id="create">
			<button>новая запись</button>
		</div>
	</div>
	<div id="text">
		<label>
			<textarea></textarea>
		</label>
		<button>сохранить</button>
	</div>
</div>

<script>
	
    const texts = {
    
    };
    
    let create = document.getElementById('create');
    let notes = document.getElementById('notes');
    let buttonSave = document.querySelector('#text button');
	let textarea = document.querySelector('#text textarea');
    
    create.addEventListener('click', function () {
        let li = document.createElement('li');
        if (document.querySelectorAll('#notes li').length === Object.keys(texts).length){
			li.classList.add('notify');
			notes.appendChild(li)
			li.innerHTML = 'Note ' + (Object.keys(texts).length + 1);
        }
		
        li.addEventListener('click', function () {
            let num = this.innerText.replace(/\D+/g, '');
            if (texts[num]){
                textarea.value = texts[num];
			}else if(Object.keys(texts).length > 0){
                textarea.value = '';
            }
        })

        document.querySelectorAll('#notes li').forEach(function (el) {
            el.addEventListener('click', function () {
                document.querySelectorAll('#notes li').forEach(function (element){
                    element.classList.remove('active')
                })
                
                el.classList.add('active');
            })
        })
		
    })
	
	buttonSave.addEventListener('click', function () {
        document.querySelectorAll('#notes li').forEach(function (element){
            if ([...element.classList].includes('active')){
                let num = element.innerText.replace(/\D+/g, '');
                texts[num] = textarea.value;
                textarea.value = '';
            }
        })
    })

    
</script>
</body>
</html>