<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>spoiler</title>
	<style>
		.spoiler:not(.active) {
			display: none;
		}
	</style>
</head>
<body>
<!-- paragraph blocks with spoilers -->
<div>
	<p>абзац с текстом
		<a href="#" class="toggle">развернуть спойлер1</a>
	</p>
	<p class="spoiler">скрытый спойлер1</p>
</div>
<p>
	абзац с текстом
</p>
<div>
	<p>абзац с текстом
		<a href="#" class="toggle">развернуть спойлер2</a>
	</p>
	<p class="spoiler">скрытый спойлер2</p>
</div>
<p>
	абзац с текстом
</p>
<div>
	<p>абзац с текстом
		<a href="#" class="toggle">развернуть спойлер3</a>
	</p>
	<p class="spoiler">скрытый спойлер3</p>
</div>
<p>
	абзац с текстом
</p>
<!-- paragraph blocks can be any length -->
<script>
    // without event "onload" this code don't work
    window.onload = function () {
        document.querySelectorAll('div').forEach(function (element) {
            element.onclick = function () {
                if (this.children[1].classList.value.includes('active')) {
                    this.children[1].classList.remove('active');
                } else {
                    this.children[1].classList.add('active');
                }
                // return false; works and without this
            };
        })
    };
</script>
</body>
</html>